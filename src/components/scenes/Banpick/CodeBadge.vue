<template>
  <div class="master-code-badge">
    <svg class="bg" width="158" height="158" viewBox="0 0 158 158">
      <g>
        <path
          d="M78.9995 4L87.799 23.4425L102.176 7.67076L104.536 28.8809L123.083 18.3237L118.774 39.2252L139.676 34.9161L129.119 53.463L150.329 55.8237L134.557 70.2006L154 79L134.557 87.7994L150.329 102.176L129.119 104.537L139.676 123.084L118.774 118.775L123.083 139.676L104.536 129.119L102.176 150.329L87.799 134.557L78.9995 154L70.2001 134.557L55.8232 150.329L53.4625 129.119L34.9156 139.676L39.2248 118.775L18.3232 123.084L28.8804 104.537L7.67027 102.176L23.442 87.7994L3.99951 79L23.442 70.2006L7.67027 55.8237L28.8804 53.463L18.3232 34.9161L39.2248 39.2252L34.9156 18.3237L53.4625 28.8809L55.8232 7.67076L70.2001 23.4425L78.9995 4Z"
          fill="#262626"
        />
        <path
          d="M85.521 24.4736L87.0874 27.9336L89.647 25.127L100.301 13.4365L102.052 29.1572L102.472 32.9326L105.773 31.0537L119.519 23.2275L116.326 38.7207L115.559 42.4404L119.279 41.6738L134.771 38.4795L126.946 52.2266L125.067 55.5273L128.842 55.9473L144.562 57.6973L132.873 68.3525L130.066 70.9121L133.526 72.4785L147.936 79L133.526 85.5215L130.066 87.0879L132.873 89.6475L144.562 100.302L128.842 102.053L125.067 102.473L126.946 105.773L134.771 119.52L119.279 116.326L115.559 115.56L116.326 119.279L119.519 134.771L105.773 126.946L102.472 125.067L102.052 128.843L100.301 144.562L89.647 132.873L87.0874 130.066L85.521 133.526L78.9995 147.937L72.478 133.526L70.9116 130.066L68.3521 132.873L57.6968 144.562L55.9468 128.843L55.5269 125.067L52.2261 126.946L38.479 134.771L41.6733 119.279L42.4399 115.56L38.7202 116.326L23.2271 119.52L31.0532 105.773L32.9321 102.473L29.1567 102.053L13.436 100.302L25.1265 89.6475L27.9331 87.0879L24.4731 85.5215L10.062 79L24.4731 72.4785L27.9331 70.9121L25.1265 68.3525L13.436 57.6973L29.1567 55.9473L32.9321 55.5273L31.0532 52.2266L23.2271 38.4795L38.7202 41.6738L42.4399 42.4404L41.6733 38.7207L38.479 23.2275L52.2261 31.0537L55.5269 32.9326L55.9468 29.1572L57.6968 13.4365L68.3521 25.127L70.9116 27.9336L72.478 24.4736L78.9995 10.0625L85.521 24.4736Z"
          :stroke="color"
          stroke-width="5"
        />
      </g>
    </svg>

    <div class="antihero text" :style="{ color }">{{ code }}</div>
  </div>
</template>

<style scoped>
.bg {
  position: absolute;
}

.text {
  position: absolute;
  width: 158px;
  height: 158px;
  text-align: center;
  line-height: 150px;
  font-size: 36px;
}
</style>

<script setup>
import { splitCode } from "@/assets/utils";
import { computed } from "vue";

const props = defineProps({
  code: String,
});

const color = computed(() => (props.code ? `var(--color-${splitCode(props.code)[0]})` : ""));
</script>
